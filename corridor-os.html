<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corridor OS v4 - Hybrid Quantum-Photonic Operating System</title>
    <meta name="corridoros-version" content="v4">
    <link rel="stylesheet" href="corridor-os-styles.css">
    <link rel="stylesheet" href="brand/corridoros-brand.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Ubuntu:wght@300;400;500;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%2300d4ff'/></svg>">
</head>
<body>
    <!-- Boot Splash Screen -->
    <div id="boot-splash" class="boot-splash">
        <div class="boot-logo">
            <div class="quantum-spinner"></div>
            <h1>Corridor OS</h1>
            <p>Hybrid Quantum-Photonic Operating System</p>
            <div class="co-boot-icons">
                <img src="brand/icons/logo-cube.svg" alt="Corridor Cube"/>
                <img src="brand/icons/icon-quantum.svg" alt="Quantum"/>
                <img src="brand/icons/icon-memory.svg" alt="Free-Form Memory"/>
                <img src="brand/icons/icon-analytics.svg" alt="Synchrony Analytics"/>
            </div>
        </div>
        <div class="boot-progress">
            <div class="progress-bar">
                <div class="progress-fill" id="boot-progress-fill"></div>
            </div>
            <div class="boot-status" id="boot-status">Initializing quantum substrate...</div>
        </div>
    </div>

    <!-- Main OS Desktop -->
    <div id="desktop" class="desktop" style="display: none;">
        <!-- Desktop Background -->
        <div class="desktop-background"></div>
        
        <!-- Top Panel (Ubuntu-inspired) -->
        <div class="top-panel">
            <div class="panel-left">
                <button class="activities-button" onclick="showActivitiesOverview()">
                    <span class="corridor-logo"></span>
                    Activities
                </button>
                <div class="app-menu">
                    <button class="menu-item" onclick="openApp('terminal')">Terminal</button>
                    <button class="menu-item" onclick="openApp('files')">Files</button>
                    <button class="menu-item" onclick="openApp('quantum-lab')">Quantum Lab</button>
                    <button class="menu-item" onclick="openApp('photonic-studio')">Photonic Studio</button>
                </div>
            </div>
            <div class="panel-center">
                <div class="clock" id="desktop-clock"></div>
            </div>
            <div class="panel-right">
                <button class="panel-button" id="notificationsToggle" title="Notifications" onclick="toggleNotificationsPanel()">
                    <span class="icon">🔔</span>
                    <span class="badge" id="notificationsBadge" style="display:none;">0</span>
                </button>
                <button class="panel-button" onclick="openApp('network-manager')">
                    <span class="icon">📶</span>
                </button>
                <button class="panel-button" onclick="openApp('power-manager')">
                    <span class="icon">🔋</span>
                </button>
                <button class="panel-button" onclick="openApp('settings')">
                    <span class="icon">⚙️</span>
                </button>
                <button class="panel-button user-menu" onclick="showUserMenu()">
                    <span class="icon">👤</span>
                </button>
            </div>
        </div>

        <!-- Dock (macOS-inspired but Ubuntu-themed) -->
        <div class="dock">
            <div class="dock-apps">
                <button class="dock-app" onclick="openApp('terminal')" title="Terminal">
                    <span class="app-icon">💻</span>
                </button>
                <button class="dock-app" onclick="openApp('files')" title="Files">
                    <span class="app-icon">📁</span>
                </button>
                <button class="dock-app" onclick="openApp('quantum-lab')" title="Quantum Lab">
                    <span class="app-icon">⚛️</span>
                </button>
                <button class="dock-app" onclick="openApp('photonic-studio')" title="Photonic Studio">
                    <span class="app-icon">🌟</span>
                </button>
                <button class="dock-app" onclick="openApp('corridor-computer')" title="Corridor Computer">
                    <span class="app-icon">🔬</span>
                </button>
                <button class="dock-app" onclick="openApp('settings')" title="Settings">
                    <span class="app-icon">⚙️</span>
                </button>
                <div class="dock-separator"></div>
                <button class="dock-app trash" onclick="openApp('trash')" title="Trash">
                    <span class="app-icon">🗑️</span>
                </button>
            </div>
        </div>

        <!-- Activities Overview -->
        <div id="activities-overview" class="activities-overview" style="display: none;">
            <div class="overview-search">
                <input type="text" placeholder="Type to search applications..." id="app-search">
            </div>
            <div class="overview-workspaces">
                <div class="workspace active" onclick="switchWorkspace(1)">
                    <span>Workspace 1</span>
                    <div class="workspace-windows"></div>
                </div>
                <div class="workspace" onclick="switchWorkspace(2)">
                    <span>Workspace 2</span>
                    <div class="workspace-windows"></div>
                </div>
                <div class="workspace" onclick="switchWorkspace(3)">
                    <span>Workspace 3</span>
                    <div class="workspace-windows"></div>
                </div>
            </div>
            <div class="overview-apps">
                <div class="app-grid">
                    <div class="app-item" onclick="openApp('terminal')">
                        <span class="app-icon">💻</span>
                        <span class="app-name">Terminal</span>
                    </div>
                    <div class="app-item" onclick="openApp('files')">
                        <span class="app-icon">📁</span>
                        <span class="app-name">Files</span>
                    </div>
                    <div class="app-item" onclick="openApp('quantum-lab')">
                        <span class="app-icon">⚛️</span>
                        <span class="app-name">Quantum Lab</span>
                    </div>
                    <div class="app-item" onclick="openApp('photonic-studio')">
                        <span class="app-icon">🌟</span>
                        <span class="app-name">Photonic Studio</span>
                    </div>
                    <div class="app-item" onclick="openApp('corridor-computer')">
                        <span class="app-icon">🔬</span>
                        <span class="app-name">Corridor Computer</span>
                    </div>
                    <div class="app-item" onclick="openApp('settings')">
                        <span class="app-icon">⚙️</span>
                        <span class="app-name">Settings</span>
                    </div>
                    <div class="app-item" onclick="openApp('web-browser')">
                        <span class="app-icon">🌐</span>
                        <span class="app-name">Web Browser</span>
                    </div>
                    <div class="app-item" onclick="openApp('text-editor')">
                        <span class="app-icon">📝</span>
                        <span class="app-name">Text Editor</span>
                    </div>
                    <div class="app-item" onclick="openApp('calculator')">
                        <span class="app-icon">🧮</span>
                        <span class="app-name">Calculator</span>
                    </div>
                    <div class="app-item" onclick="openApp('image-viewer')">
                        <span class="app-icon">🖼️</span>
                        <span class="app-name">Image Viewer</span>
                    </div>
                    <div class="app-item" onclick="openApp('music-player')">
                        <span class="app-icon">🎵</span>
                        <span class="app-name">Music Player</span>
                    </div>
                    <div class="app-item" onclick="openApp('video-player')">
                        <span class="app-icon">🎬</span>
                        <span class="app-name">Video Player</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Application Windows Container -->
        <div id="windows-container" class="windows-container"></div>

        <!-- User Menu -->
        <div id="user-menu" class="user-menu" style="display: none;">
            <div class="menu-item" onclick="openApp('settings')">
                <span class="icon">⚙️</span>
                Settings
            </div>
            <div class="menu-item" onclick="lockScreen()">
                <span class="icon">🔒</span>
                Lock Screen
            </div>
            <div class="menu-item" onclick="logout()">
                <span class="icon">🚪</span>
                Log Out
            </div>
            <div class="menu-separator"></div>
            <div class="menu-item" onclick="restart()">
                <span class="icon">🔄</span>
                Restart
            </div>
            <div class="menu-item" onclick="shutdown()">
                <span class="icon">⏻</span>
                Shut Down
            </div>
        </div>

        <!-- Context Menu -->
        <div id="context-menu" class="context-menu" style="display: none;">
            <div class="menu-item" onclick="createFile()">New File</div>
            <div class="menu-item" onclick="createFolder()">New Folder</div>
            <div class="menu-separator"></div>
            <div class="menu-item" onclick="openTerminalHere()">Open Terminal Here</div>
            <div class="menu-separator"></div>
            <div class="menu-item" onclick="openSettings()">Settings</div>
        </div>

        <!-- Desktop Icons -->
        <div class="desktop-icons">
            <div class="desktop-icon" ondblclick="openApp('files')">
                <span class="icon">📁</span>
                <span class="label">Home</span>
            </div>
            <div class="desktop-icon" ondblclick="openApp('trash')">
                <span class="icon">🗑️</span>
                <span class="label">Trash</span>
            </div>
        </div>

        <!-- Toast Notifications (ephemeral) -->
        <div id="notifications" class="notifications"></div>

        <!-- Notifications Panel (persistent) -->
        <aside id="notifications-panel" class="notifications-panel" aria-hidden="true">
            <div class="notifications-header">
                <div class="title">Notifications</div>
                <div class="actions">
                    <button class="clear-all" onclick="clearAllNotifications()" title="Clear all">Clear All</button>
                    <button class="close-panel" onclick="toggleNotificationsPanel()" title="Close">×</button>
                </div>
            </div>
            <div id="notifications-list" class="notifications-list" role="list"></div>
            <div id="notifications-empty" class="notifications-empty" style="display:none;">No notifications</div>
        </aside>
    </div>

    <!-- Lock Screen -->
    <div id="lock-screen" class="lock-screen" style="display: none;">
        <div class="lock-content">
            <div class="lock-clock" id="lock-clock"></div>
            <div class="lock-date" id="lock-date"></div>
            <div class="lock-user">
                <div class="user-avatar">👤</div>
                <div class="user-name">Corridor User</div>
                <input type="password" placeholder="Enter password" class="password-input" id="password-input">
                <button class="unlock-button" onclick="unlock()">Unlock</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="corridor-os.js"></script>
    <script src="corridor-apps.js"></script>
    <script src="corridor-settings.js"></script>
    <script src="corridor-window-manager.js"></script>
    
    <!-- Include existing Corridor Computer scripts -->
    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
    <script src="ui-tilt.js"></script>
    <script src="ui-menu.js"></script>
    <script src="navigation.js"></script>
    <script src="three-hero.js"></script>
    <script src="auto-cycle.js"></script>
    <script src="quantum.js"></script>
    <script src="photon.js"></script>
    <script src="memory.js"></script>
    <script src="orchestrator.js"></script>
    <script src="heliopass.js"></script>
    <script src="thermal-model.js"></script>
    <script src="main.js"></script>
</body>
</html>
