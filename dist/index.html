<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CorridorOS — Reserve Light. Guarantee Memory.</title>
  <meta name="description" content="CorridorOS turns photonic interconnect and pooled memory into schedulable OS resources. Reserve wavelength lanes, guarantee GB/s floors on CXL Free-Form Memory, and watch tail-latency and pJ/bit drop — with Kubernetes CRDs and Grafana dashboards from day one.">
  <meta name="keywords" content="photonic interconnect, CXL memory, bandwidth QoS, tail latency, BER, pJ per bit, Kubernetes CRD, Grafana, attestation, PQC">
  <meta property="og:title" content="CorridorOS — Reserve Light. Guarantee Memory.">
  <meta property="og:description" content="CorridorOS turns photonic interconnect and pooled memory into schedulable OS resources.">
  <meta property="og:image:alt" content="CorridorOS dashboard showing reserved photonic corridors and Free-Form Memory bandwidth floors.">
  <meta name="corridoros-version" content="v4">
  <meta name="theme-color" content="#00c8ff">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="brand/corridoros-brand.b501abdc.b501abdc.css">
  <style>
    :root{
      /* Vista‑style palette */
      --bg-0:#0b1020;
      --bg-1:#0e1a2b;
      --bg-2:#13283f;
      --cyan:#00c8ff;
      --teal:#00ffd5;
      --accent:#00a2ff;
      --gold:#FFD700;
      --green:#00E28F;
      --text:#FFFFFF;
      --text-secondary:#E0E0E0;
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{font-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif; color:var(--text);
      background:
        radial-gradient(80% 60% at 15% 10%, rgba(0,255,213,.24), transparent 60%),
        radial-gradient(90% 60% at 80% 0%, rgba(255,0,128,.12), transparent 60%),
        radial-gradient(120% 120% at 50% 0%, var(--bg-2) 0%, var(--bg-1) 48%, var(--bg-0) 100%);
    }
    a{color:inherit}
    /* Nav */
    .nav{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;padding:18px 48px;background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06));backdrop-filter:saturate(140%) blur(18px);border-bottom:1px solid rgba(255,255,255,.18)}
    .nav .brand{font-weight:800;letter-spacing:.02em;background:linear-gradient(45deg,var(--cyan),var(--teal));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .nav .links{display:flex;gap:18px;align-items:center}
    .btn{min-height:44px;display:inline-flex;align-items:center;justify-content:center;padding:.85rem 1.2rem;border-radius:10px;border:1.5px solid rgba(0,200,255,.6);text-decoration:none;font-weight:700;letter-spacing:.01em;transition:all .2s ease;color:var(--text)}
    .btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,200,255,.35)}
    .btn.primary{border:none;background:linear-gradient(135deg,var(--cyan),var(--teal));color:#001b2e;box-shadow:0 4px 16px rgba(0,200,255,.4)}
    .btn.ghost{background:transparent;border-color:rgba(0,200,255,.4)}
    main{max-width:1200px;margin:0 auto;padding:48px 24px}
    /* Hero */
    .hero{display:grid;grid-template-columns:repeat(12,1fr);gap:24px;align-items:center}
    .eyebrow{color:var(--accent);font-weight:700;margin-bottom:8px}
    h1{font-size:56px;line-height:64px;margin:0 0 12px 0}
    .subhead{font-size:18px;line-height:26px;color:var(--text-secondary);margin-bottom:16px}
    .cta-row{display:flex;gap:12px;margin:18px 0 16px 0}
    .chips{display:flex;flex-wrap:wrap;gap:10px;color:var(--text)}
    .chip{background:linear-gradient(90deg, rgba(0,200,255,.22), rgba(0,255,213,.20));color:#e6fdff;border:1px solid rgba(255,255,255,.22);padding:6px 10px;border-radius:999px;font-size:13px}
    .chip.gold{background:linear-gradient(90deg, rgba(255,215,0,.22), rgba(0,255,213,.18));color:#fff5cc;border-color:rgba(255,255,255,.24)}
    .hero-left{grid-column:1 / -1;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16);border-radius:16px;padding:22px;backdrop-filter:blur(10px)}
    /* Demo block */
    .demo{margin:36px auto 12px;max-width:960px}
    .demo-frame{aspect-ratio:16/9;background:linear-gradient(135deg, #000, #0e1a2b);border-radius:16px;border:2px solid rgba(0,200,255,.4);position:relative;display:flex;align-items:center;justify-content:center;box-shadow:0 18px 54px rgba(0,200,255,.28);cursor:pointer;transition:all .3s ease}
    .demo-frame:hover{transform:scale(1.02);box-shadow:0 24px 64px rgba(0,200,255,.38);border-color:rgba(0,200,255,.6)}
    .demo-caption{margin-top:8px;font-size:13px;color:var(--text-secondary);text-align:center}
    
    /* Video Player Styling */
    #demoVideo {
      border-radius: 16px;
      box-shadow: 0 18px 54px rgba(0,200,255,.32);
    }
    
    #demoVideo::-webkit-media-controls {
      background: linear-gradient(transparent, rgba(0,0,0,0.8));
    }
    
    #demoVideo::-webkit-media-controls-panel {
      background: rgba(0,0,0,0.6);
    }
    /* Proof cards */
    .proof{margin:56px 0 8px}
    .proof-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:linear-gradient(180deg, rgba(0,200,255,.10), rgba(0,255,213,.08));border:1px solid rgba(0,200,255,.26);border-radius:14px;padding:18px 16px;box-shadow:0 12px 36px rgba(0,0,0,.25)}
    .num{font-size:32px;font-weight:800;margin-bottom:4px;color:#c3f7ff}
    .spark{position:relative;height:44px;background:linear-gradient(180deg,rgba(0,200,255,.12),rgba(0,255,213,.08));border-radius:10px;margin-top:10px;overflow:hidden;border:1px solid rgba(0,200,255,.2)}
    .spark canvas{position:absolute;inset:0;width:100%;height:100%;display:block}
    .spark .axis{position:absolute;left:0;right:0;height:1px;background:rgba(0,200,255,.28)}
    /* How it works */
    .how{display:grid;grid-template-columns:repeat(2,1fr);gap:24px;margin:36px 0}
    .integrations .pill{display:inline-block;padding:8px 12px;margin:4px;border:1px solid rgba(0,200,255,.22);border-radius:999px;background:linear-gradient(90deg, rgba(0,200,255,.15), rgba(0,255,213,.12));color:#e6fdff}
    /* CTA band */
    .band{margin:56px 0 24px;padding:28px;border:1px solid rgba(0,200,255,.22);border-radius:16px;background:linear-gradient(90deg, rgba(0,200,255,.20), rgba(0,255,213,.14))}
    /* Responsive */
    @media (max-width:1024px){ .hero{grid-template-columns:repeat(8,1fr)} .hero-left{grid-column:span 8} .proof-grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:640px){ h1{font-size:42px;line-height:50px} .proof-grid{grid-template-columns:1fr} .nav{padding:14px 16px} main{padding:32px 16px} }
    /* Footer */
    .site-footer{max-width:1200px;margin:24px auto 32px;padding:16px 20px;border-top:1px solid rgba(0,200,255,.22);background:linear-gradient(90deg, rgba(0,200,255,.10), rgba(0,255,213,.08));border-radius:12px;color:var(--text-secondary)}
    .site-footer a{color:inherit;text-decoration:none;border-bottom:1px dotted rgba(0,200,255,.4)}
    .site-footer strong{color:#e6fdff}

    /* Liminal glow overlay */
    .glow-layer{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.0;transition:opacity .6s ease}
    body.glow-on .glow-layer{opacity:.65}
    .glow-layer::before{content:"";position:absolute;inset: -20% -20%;
      background:
        radial-gradient(800px 400px at 20% 20%, rgba(0,200,255,.35), transparent 60%),
        radial-gradient(900px 500px at 70% 60%, rgba(0,255,213,.25), transparent 62%),
        radial-gradient(700px 400px at 40% 80%, rgba(110,74,255,.22), transparent 64%);
      filter:blur(30px);
      animation: glowDrift 28s ease-in-out infinite alternate;
    }
    @keyframes glowDrift{
      0%{transform:translate3d(-10px,-6px,0) scale(1)}
      50%{transform:translate3d(12px,10px,0) scale(1.03)}
      100%{transform:translate3d(-8px,14px,0) scale(0.98)}
    }

    nav, main{position:relative;z-index:1}
  </style>
</head>
<body>
  <div class="glow-layer" aria-hidden="true"></div>
  <nav class="nav" aria-label="Main">
    <div class="brand">CorridorOS</div>
    <div class="links">
      <a class="btn ghost" href="https://github.com/mostafa-nasr-4277/CorridorOS/blob/main/CORRIDOR_OS_README.md" target="_blank" rel="noopener">Docs</a>
      <a class="btn ghost" href="https://github.com/mostafa-nasr-4277/CorridorOS/blob/main/RFC-0_CorridorOS.md" target="_blank" rel="noopener">RFC</a>
      <a class="btn ghost" href="https://github.com/mostafa-nasr-4277/CorridorOS/blob/main/docs/SECURITY_BASELINE.md" target="_blank" rel="noopener">Security</a>
      <a class="btn ghost" href="https://github.com/mostafa-nasr-4277/CorridorOS" target="_blank" rel="noopener">GitHub</a>
      <a class="btn primary" href="#demo" id="ctaDemo">Try Demo (Simulation)</a>
      <button class="btn ghost" id="toggleGlow" type="button" title="Toggle Liminal Glow">Liminal Glow</button>
    </div>
  </nav>

  <main>
    <!-- Hero -->
    <section class="hero" id="hero">
      <div class="hero-left">
        <div class="eyebrow">New: Photonic + Memory OS</div>
        <h1>Reserve Light. Guarantee Memory.</h1>
        <p class="subhead">CorridorOS makes photonic corridors and pooled memory bandwidth first‑class OS resources. Schedule λ‑sets, set GB/s floors, and prove it in Grafana — no app rewrites.</p>
        <div class="cta-row">
          <a class="btn primary" href="#demo" id="ctaDemo2">Try Demo (Simulation)</a>
        </div>
        <div class="chips" role="list">
          <div class="chip" role="listitem">✅ BER stable ≤ 1e‑12 (HELIOPASS calibrated)</div>
          <div class="chip gold" role="listitem">✅ 150–200 GB/s memory floors on CXL</div>
          <div class="chip" role="listitem">✅ p99 latency ↓ 25–40% in pilot tests</div>
          <div id="webgpu-chip" class="chip gold" role="listitem" style="display:none"></div>
        </div>
        <div style="margin-top:10px;color:rgba(247,243,232,.8);font-size:14px">Open core · Kubernetes‑ready · Attestation & PQC built‑in</div>
      </div>
      
    </section>

    <!-- Demo Video Block -->
    <section class="demo" id="demo" aria-labelledby="demoLabel">
      <h3 id="demoLabel" style="margin:0 0 10px 0">Experience CorridorOS: Reserve light and guarantee memory floors in real time.</h3>
      <div class="demo-frame" id="demoFrame">
        <video id="demoVideo" 
               controls 
               preload="metadata" 
               poster="brand/pngs/grad_1920x480.png" 
               style="width:100%;height:100%;object-fit:contain;background:#000;border-radius:16px;">
          <!-- Local demo assets -->
          <source src="demo/corridoros-demo.webm" type="video/webm">
          <source src="demo/corridoros-demo.mp4" type="video/mp4">
          <p>Your browser doesn't support HTML5 video. A downloadable MP4 will be provided.</p>
        </video>
      </div>
      <div class="demo-caption">Allocate corridor → set 150 GB/s floor → run workload → HELIOPASS recalibrates.</div>
      <div style="margin-top:10px;text-align:center">
        <a class="btn ghost" href="https://raw.githubusercontent.com/mostafa-nasr-4277/CorridorOS/main/scripts/golden_demo.sh" download>Download Repro Demo</a>
        <a class="btn ghost" href="demo/corridoros-demo.mp4" download style="margin-left:10px">Download Video</a>
        <a class="btn primary" href="corridor-os.html" style="margin-left:10px">Open OS Demo</a>
      </div>
    </section>

    <!-- Proof Section -->
    <section class="proof" aria-labelledby="proofH2">
      <h2 id="proofH2" style="text-align:center;margin:0 0 16px 0">Measurable proof — not promises.</h2>
      <p style="text-align:center;color:rgba(247,243,232,.85);max-width:840px;margin:0 auto 16px">CorridorOS ships with a Grafana pack. You’ll see energy per bit, BER, lane utilization, and GB/s floors within minutes.</p>
      <div class="proof-grid">
        <div class="card" title="PromQL: histogram_quantile(0.99, sum(rate(req_latency_bucket[5m])) by (le))">
          <div class="num">p99 Tail Latency ↓ 32%</div>
          <div> SaaS search workload, 95/99th tail reduction after setting 150 GB/s floor.</div>
          <div class="spark" id="spark-latency" data-type="down" data-percent="32" aria-label="Sparkline showing ~32% latency reduction"><canvas></canvas></div>
        </div>
        <div class="card" title="PromQL: avg_over_time(energy_per_bit_pj[5m])">
          <div class="num">Energy per bit ↓ 28%</div>
          <div> Photonic lanes + HELIOPASS DVFS lowered pJ/bit at steady BER.</div>
          <div class="spark" id="spark-energy" data-type="down" data-percent="28" aria-label="Sparkline showing ~28% energy-per-bit reduction"><canvas></canvas></div>
        </div>
        <div class="card" title="PromQL: min_over_time(ffm_achieved_gbps[5m]) / floor">
          <div class="num">Memory Floors: 150–200 GB/s</div>
          <div> CXL Free‑Form Memory holds floors under contention.</div>
          <div class="spark" id="spark-memory" data-type="band" data-min="150" data-max="200" data-cap="220" aria-label="Band showing 150–200 GB/s floor with stable achieved"><canvas></canvas></div>
        </div>
      </div>
      <div style="text-align:center;margin-top:12px"><a class="btn ghost" href="artifacts/grafana/golden.json">View the Grafana dashboard JSON</a></div>
    </section>

    <!-- How It Works -->
    <section class="how" aria-labelledby="howH3">
      <div>
        <h3 id="howH3">Two primitives. One control plane.</h3>
        <ul>
          <li>Photonic Corridors — Reserve λ‑sets with min‑Gb/s and latency budgets. HELIOPASS keeps BER/eye stable at minimal power.</li>
          <li>Free‑Form Memory (FFM) — Request memory by properties (bytes, tier T0–T3, bandwidth floor) and migrate live across HBM/DRAM/CXL/persistent.</li>
        </ul>
        <div class="cta-row">
          <a class="btn ghost" href="apis/corridoros_openapi.yaml">Photonic API →</a>
          <a class="btn ghost" href="apis/corridoros_openapi.yaml">FFM API →</a>
        </div>
      </div>
      <div class="integrations">
        <h3>Built‑in Integrations</h3>
        <div class="pill">Kubernetes CRDs & Operator</div>
        <div class="pill">Scheduler Plugin</div>
        <div class="pill">Grafana Pack</div>
        <div class="pill">Measured Boot · SPDM · PQC</div>
        <div style="margin-top:8px"><a class="btn ghost" href="k8s/docs/RFC-0_Addendum_A_K8s_and_Observability.md">Apply CRDs →</a></div>
      </div>
    </section>

    <!-- For Teams -->
    <section class="teams" aria-label="For Teams" style="margin:24px 0">
      <div class="proof-grid">
        <div class="card"><h4>SRE / Platform</h4><p>Kill tail latency; alert on floors and BER drift; enforce per‑tenant fairness.</p></div>
        <div class="card"><h4>ML / AI</h4><p>Feed GPUs at line rate; pin datasets to GB/s‑guaranteed bundles; stable step times.</p></div>
        <div class="card"><h4>HPC / Research</h4><p>Disaggregate memory & light like any other schedulable resource; open APIs.</p></div>
      </div>
    </section>

    <!-- Ethics & Security -->
    <section class="ethics" aria-label="Ethics & Security" style="margin:24px 0">
      <h3>Ethics & Security</h3>
      <p>We separate production from Labs. Production carries attestation, encryption, PQC. Labs modules use explicit Consent Manifests and community governance — and never run by default.</p>
      <a class="btn ghost" href="https://github.com/mostafa-nasr-4277/CorridorOS/blob/main/docs/SECURITY_BASELINE.md" target="_blank" rel="noopener">Read our security & ethics note →</a>
    </section>

    <!-- Final CTA -->
    <section class="band" aria-label="Final Call to Action">
      <h2 style="margin:0 0 8px 0">Ready to schedule light and guarantee memory?</h2>
      <div class="cta-row">
        <a class="btn primary" href="#demo">Try Demo (Simulation)</a>
        <a class="btn ghost" href="https://github.com/mostafa-nasr-4277/CorridorOS/issues/new?title=Pilot%20Request">Book a Pilot</a>
      </div>
      <div style="color:var(--text-secondary)">Open‑core license · Works with existing apps · Vendor‑neutral</div>
    </section>
  </main>
  <footer class="site-footer" aria-label="Company Information">
    <div><strong>Celine Online Egypt</strong></div>
    <div><a href="tel:+201070756060">+20 10 70756060</a></div>
    <address>1 Roxy Square, Heliopolis, Cairo, Egypt 11864</address>
  </footer>

  <script src="webgpu-check.js" defer></script>
  <script>
    function scrollToDemo(){
      const el=document.getElementById('demo'); if(!el) return; el.scrollIntoView({behavior:'smooth'});
    }
    
    // Simple video player setup
    document.addEventListener('DOMContentLoaded', function() {
      const video = document.getElementById('demoVideo');
      if (video) {
        // Add some styling to make the video player look better
        video.style.borderRadius = '16px';
        video.style.boxShadow = '0 18px 54px rgba(0,200,255,.32)';
        
        // Optional: Add event listeners for better UX
        video.addEventListener('loadstart', function() {
          console.log('Video loading started');
        });
        
        video.addEventListener('canplay', function() {
          console.log('Video can start playing');
        });
        
        video.addEventListener('error', function(e) {
          console.log('Video error:', e);
          // Show fallback message if video fails to load
          const demoFrame = document.getElementById('demoFrame');
          if (demoFrame) {
            demoFrame.innerHTML = `
              <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: white; text-align: center; padding: 20px;">
                <div style="font-size: 24px; margin-bottom: 16px;">🎥 Video Player</div>
                <div style="font-size: 16px; margin-bottom: 20px; opacity: 0.8;">Video content will be available soon</div>
                <div style="font-size: 14px; opacity: 0.6;">This will show the 3-minute CorridorOS demonstration</div>
              </div>
            `;
          }
        });
      }
    });
    
    document.getElementById('ctaDemo')?.addEventListener('click', (e)=>{ e.preventDefault(); scrollToDemo(); });
    document.getElementById('ctaDemo2')?.addEventListener('click', (e)=>{ e.preventDefault(); scrollToDemo(); });
    // Liminal glow toggle with persisted preference
    (function(){
      const key='glowPref';
      const btn=document.getElementById('toggleGlow');
      const apply=(on)=>{ document.body.classList.toggle('glow-on', !!on); };
      try{ apply(localStorage.getItem(key)==='1'); }catch(e){}
      btn?.addEventListener('click',()=>{
        const on=!document.body.classList.contains('glow-on');
        apply(on);
        try{ localStorage.setItem(key, on?'1':'0'); }catch(e){}
      });
    })();
    
    // Register service worker for offline support
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').catch(()=>{});
      });
    }

    // Mini-graphs for proof cards
    (function(){
      function drawLine(ctx, pts, w, h, colorFrom, colorTo){
        const grd = ctx.createLinearGradient(0,0,w,0);
        grd.addColorStop(0,colorFrom); grd.addColorStop(1,colorTo);
        ctx.lineWidth = 2;
        ctx.strokeStyle = grd;
        ctx.beginPath();
        pts.forEach((p,i)=>{ const x=p[0]*w, y=(1-p[1])*h; i?ctx.lineTo(x,y):ctx.moveTo(x,y);});
        ctx.stroke();
        // subtle glow
        ctx.lineWidth=6; ctx.globalAlpha=0.12; ctx.stroke(); ctx.globalAlpha=1;
      }
      function smooth(vals){
        // simple moving average for nicer spark
        const k=3, out=[]; for(let i=0;i<vals.length;i++){ let s=0,c=0; for(let j=-k;j<=k;j++){ const t=i+j; if(t>=0&&t<vals.length){s+=vals[t];c++;}} out.push(s/c);} return out;
      }
      function makeDownSeries(pct, n=28){
        // start at 1.0, end at 1 - pct
        const end = Math.max(0.02, 1 - pct/100);
        const vals=[]; for(let i=0;i<n;i++){ const t=i/(n-1); const base=1-(1-end)*t; const jitter=(Math.random()-0.5)*0.06*(1-t); vals.push(Math.max(0.02, Math.min(1, base+jitter))); }
        const v2=smooth(vals);
        return v2.map((v,i)=>[i/(v2.length-1), v]);
      }
      function drawBand(ctx, w, h, min, max, cap){
        const yMin = 1 - Math.min(1, min/cap);
        const yMax = 1 - Math.min(1, max/cap);
        const y1 = yMax*h, y2 = yMin*h; // note inversion: higher GB/s is lower y
        const grd = ctx.createLinearGradient(0,y1,0,y2);
        grd.addColorStop(0,'rgba(0,255,213,.18)');
        grd.addColorStop(1,'rgba(0,200,255,.22)');
        ctx.fillStyle = grd;
        ctx.fillRect(0, y1, w, Math.max(2, y2 - y1));
        // draw target line moving around 180 GB/s
        const n=28, vals=[]; for(let i=0;i<n;i++){ const jig=(Math.random()-0.5)*8; vals.push((180+jig)/cap); }
        const pts = smooth(vals).map((v,i)=>[i/(n-1), v]);
        drawLine(ctx, pts, w, h, '#00ffd5','#00c8ff');
      }
      function renderSpark(el){
        const canvas = el.querySelector('canvas'); if(!canvas) return;
        const ctx = canvas.getContext('2d');
        const dpr = Math.min(2, window.devicePixelRatio||1);
        const rect = el.getBoundingClientRect();
        const w = Math.max(240, Math.floor(rect.width));
        const h = Math.max(36, Math.floor(rect.height));
        canvas.width = Math.floor(w*dpr); canvas.height = Math.floor(h*dpr);
        canvas.style.width = w+"px"; canvas.style.height = h+"px";
        ctx.scale(dpr,dpr);
        ctx.clearRect(0,0,w,h);
        // background grid dots
        ctx.fillStyle='rgba(255,255,255,.06)';
        for(let x=8;x<w;x+=16){ for(let y=8;y<h;y+=16){ ctx.fillRect(x,y,1,1);} }
        const type = el.dataset.type;
        if(type==='down'){
          const pct=parseFloat(el.dataset.percent||'0');
          const pts=makeDownSeries(pct);
          drawLine(ctx, pts, w, h, '#00ffd5','#00c8ff');
          // annotate end value
          const last=pts[pts.length-1];
          ctx.fillStyle='rgba(198,245,255,.9)'; ctx.font='12px Inter, system-ui, sans-serif';
          ctx.fillText(`-${pct}%`, w-44, 14);
        } else if(type==='band'){
          const min=parseFloat(el.dataset.min||'150');
          const max=parseFloat(el.dataset.max||'200');
          const cap=parseFloat(el.dataset.cap||'220');
          drawBand(ctx, w, h, min, max, cap);
          ctx.fillStyle='rgba(198,245,255,.9)'; ctx.font='12px Inter, system-ui, sans-serif';
          ctx.fillText(`${min}–${max} GB/s`, 8, 14);
        }
      }
      function init(){
        document.querySelectorAll('.spark').forEach(renderSpark);
        window.addEventListener('resize', ()=>{ document.querySelectorAll('.spark').forEach(renderSpark); });
      }
      if(document.readyState!=='loading') init(); else document.addEventListener('DOMContentLoaded', init);
    })();
  </script>
</body>
</html>
